<mat-dialog-content>
  <form [formGroup]="testForm" (ngSubmit)="addTest()">
    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Nom du Test</mat-label>
      <input matInput formControlName="nomTest">
      <mat-error *ngIf="testForm.get('nomTest')?.invalid">
        Le nom du test est requis.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Sous-Épreuve</mat-label>
      <input matInput formControlName="sousEpreuve">
      <mat-error *ngIf="testForm.get('sousEpreuve')?.invalid">
        La sous-épreuve est requise.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Intervalle Min de Référence</mat-label>
      <input matInput formControlName="intervalMinDeReference" type="number">
      <mat-error *ngIf="testForm.get('intervalMinDeReference')?.invalid">
        L'intervalle minimum de référence est requis et doit être un nombre positif.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Intervalle Max de Référence</mat-label>
      <input matInput formControlName="intervalMaxDeReference" type="number">
      <mat-error *ngIf="testForm.get('intervalMaxDeReference')?.invalid">
        L'intervalle maximum de référence est requis et doit être un nombre positif.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Unité de Référence</mat-label>
      <input matInput formControlName="uniteDeReference">
      <mat-error *ngIf="testForm.get('uniteDeReference')?.invalid">
        L'unité de référence est requise.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Détails</mat-label>
      <textarea matInput formControlName="details"></textarea>
      <mat-error *ngIf="testForm.get('details')?.invalid">
        Les détails sont requis.
      </mat-error>
    </mat-form-field>

    <div mat-dialog-actions class="dialog-actions">
      <button mat-button (click)="onCancel()">Annuler</button>
      <button mat-button color="primary" type="submit" [disabled]="testForm.invalid">Ajouter Test</button>
    </div>
  </form>
</mat-dialog-content>
